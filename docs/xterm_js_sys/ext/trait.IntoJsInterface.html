<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `IntoJsInterface` trait in crate `xterm_js_sys`."><meta name="keywords" content="rust, rustlang, rust-lang, IntoJsInterface"><title>xterm_js_sys::ext::IntoJsInterface - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../xterm_js_sys/index.html'><div class='logo-container'><img src='https://avatars2.githubusercontent.com/u/11927490?s=800&v=5' alt='logo'></div></a><p class='location'>Trait IntoJsInterface</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#required-methods">Required Methods</a><div class="sidebar-links"><a href="#tymethod.by_ref">by_ref</a><a href="#tymethod.to">to</a></div><a class="sidebar-title" href="#implementors">Implementors</a></div><p class='location'><a href='../index.html'>xterm_js_sys</a>::<wbr><a href='index.html'>ext</a></p><script>window.sidebarCurrent = {name: 'IntoJsInterface', ty: 'trait', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><span class="help-button">?</span>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/xterm_js_sys/ext/mod.rs.html#626-638' title='goto source code'>[src]</a></span><span class='in-band'>Trait <a href='../index.html'>xterm_js_sys</a>::<wbr><a href='index.html'>ext</a>::<wbr><a class="trait" href=''>IntoJsInterface</a></span></h1><div class="docblock type-decl hidden-by-usual-hider"><pre class='rust trait'>pub trait IntoJsInterface&lt;Interface:&nbsp;<a class="trait" href="../../wasm_bindgen/convert/traits/trait.FromWasmAbi.html" title="trait wasm_bindgen::convert::traits::FromWasmAbi">FromWasmAbi</a> + <a class="trait" href="../../wasm_bindgen/convert/traits/trait.IntoWasmAbi.html" title="trait wasm_bindgen::convert::traits::IntoWasmAbi">IntoWasmAbi</a> + <a class="trait" href="../../wasm_bindgen/cast/trait.JsCast.html" title="trait wasm_bindgen::cast::JsCast">JsCast</a>&gt; {
    fn <a href='#tymethod.to' class='fnname'>to</a>(self) -&gt; Interface;
<div class='item-spacer'></div>    fn <a href='#tymethod.by_ref' class='fnname'>by_ref</a>(&amp;self) -&gt; Interface;
}</pre></div><div class='stability'><div class='stab portability'>This is supported on <strong><code>feature="ext"</code></strong> only.</div></div><div class='docblock'><p>Represents a Rust type that satisfies a JS interface and can be turned into
the concrete type that represents the JS interface.</p>
<p>See the <a href="../../xterm_js_sys/ext/disposable/index.html" title="`disposable`"><code>disposable</code></a> module for an example.</p>
<p>As mentioned in the <a href="../../xterm_js_sys/xterm/index.html#mirroring-interfaces"><code>xterm</code> module docs</a>
we make a Rust trait dual for each JS interface (or the ones we want to make
instances of, anyways). Ideally we'd be able to do something like this:
<code>trait RustTrait: IntoJsInterface&lt;JsTrait&gt;</code>. The problem with that is that
the impl of <code>IntoJsInterface</code> <em>requires</em> the impl of <code>RustTrait</code>; we need
the functions that satisfy the interface to actually make the instance of
the interface type.</p>
<p>So, instead we do the weird backwards thing that we do in <a href="../../xterm_js_sys/ext/disposable/index.html" title="`disposable`"><code>disposable</code></a>
where the Rust trait (i.e. <a href="../../xterm_js_sys/xterm/struct.Disposable.html"><code>Disposable</code></a>) ends up
effectively having these same functions and <em>then</em> providing a blanket impl
so that <a href="../../xterm_js_sys/ext/trait.IntoJsInterface.html" title="`IntoJsInterface`"><code>IntoJsInterface</code></a> is impled for all things that impl the Rust
trait.</p>
<p>It's unfortunate that we don't really have a way to encode that each Rust
trait can have one (and only one) interface type dual. We encode this within
the trait itself, but we can't seem to do this in a way that's generic over
traits (not until we get HKTs anyways).</p>
<p>So it's unclear exactly where this trait would be useful. I guess it lets
you be generic over the interface you're asking for? Something like this:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">I</span><span class="op">&gt;</span>(<span class="ident">inst</span>: <span class="kw">impl</span> <span class="ident">IntoJsInterface</span><span class="op">&lt;</span><span class="ident">I</span><span class="op">&gt;</span>)
<span class="kw">where</span>
    <span class="ident">I</span>: <span class="ident">FromWasmAbi</span> <span class="op">+</span> <span class="ident">IntoWasmAbi</span> <span class="op">+</span> <span class="ident">JsCast</span>,
{
   <span class="ident">inst</span>.<span class="ident">to</span>();
}</pre></div>
<p>Combined with <code>AsRef</code> you can do things like accept Rust implementations
of interfaces that subclass some base class:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="ident">I</span><span class="op">&gt;</span>(<span class="ident">inst</span>: <span class="kw">impl</span> <span class="ident">IntoJsInterface</span><span class="op">&lt;</span><span class="ident">I</span><span class="op">&gt;</span>)
<span class="kw">where</span>
    <span class="ident">I</span>: <span class="ident">FromWasmAbi</span> <span class="op">+</span> <span class="ident">IntoWasmAbi</span> <span class="op">+</span> <span class="ident">JsCast</span>,
    <span class="ident">I</span>: <span class="ident">AsRef</span><span class="op">&lt;</span><span class="ident">js_sys</span>::<span class="ident">Iterator</span><span class="op">&gt;</span>,
{
   <span class="ident">inst</span>.<span class="ident">to</span>();
}</pre></div>
<p>But it's still unclear if/how this is useful.</p>
</div>
            <h2 id='required-methods' class='small-section-header'>Required methods<a href='#required-methods' class='anchor'></a></h2><div class='methods'><h3 id='tymethod.to' class='method'><code>fn <a href='#tymethod.to' class='fnname'>to</a>(self) -&gt; Interface</code></h3><div class='stability'><div class='stab portability'>This is supported on <strong><code>feature="ext"</code></strong> only.</div></div><div class='docblock'><p>Convert to an instance of the JS interface type.</p>
</div><h3 id='tymethod.by_ref' class='method'><code>fn <a href='#tymethod.by_ref' class='fnname'>by_ref</a>(&amp;self) -&gt; Interface</code></h3><div class='stability'><div class='stab portability'>This is supported on <strong><code>feature="ext"</code></strong> only.</div></div><div class='docblock'><p>Produce an instance of the JS interface type without consuming the Rust
instance.</p>
<p>For Rust impls of a trait this will probably require <code>Self</code> to implement
<code>Clone</code> since as part of creating the instance the instance needs to be
leaked (for methods to still work), but we'll leave that up to
implementors.</p>
</div></div><span class='loading-content'>Loading content...</span>
            <h2 id='implementors' class='small-section-header'>Implementors<a href='#implementors' class='anchor'></a></h2><div class='item-list' id='implementors-list'><h3 id='impl-IntoJsInterface%3CDisposable%3E' class='impl'><code class='in-band'>impl&lt;X&gt; IntoJsInterface&lt;<a class="struct" href="../../xterm_js_sys/xterm/struct.Disposable.html" title="struct xterm_js_sys::xterm::Disposable">Disposable</a>&gt; for X <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;X: <a class="trait" href="../../xterm_js_sys/ext/disposable/trait.XtermDisposable.html" title="trait xterm_js_sys::ext::disposable::XtermDisposable">XtermDisposable</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;X: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + 'static,&nbsp;</span></code><a href='#impl-IntoJsInterface%3CDisposable%3E' class='anchor'></a><a class='srclink' href='../../src/xterm_js_sys/ext/mod.rs.html#287-327' title='goto source code'>[src]</a></h3><div class='docblock'><p>Anything that implements <a href="../../xterm_js_sys/ext/disposable/trait.XtermDisposable.html" title="`XtermDisposable`"><code>XtermDisposable</code></a> (and is <code>Clone + 'static</code>) gets an implementation 
of <a href="../../xterm_js_sys/ext/trait.IntoJsInterface.html"><code>IntoJsInterface&lt;Disposable&gt;</code></a>.</p>
</div><div class='impl-items'><h4 id='method.to' class="method"><code>fn <a href='#method.to' class='fnname'>to</a>(self) -&gt; <a class="struct" href="../../xterm_js_sys/xterm/struct.Disposable.html" title="struct xterm_js_sys::xterm::Disposable">Disposable</a></code><a class='srclink' href='../../src/xterm_js_sys/ext/mod.rs.html#305-307' title='goto source code'>[src]</a></h4><div class='stability'><div class='stab portability'>This is supported on <strong><code>feature="ext"</code></strong> only.</div></div><div class='docblock'><p>Converts the <a href="../../xterm_js_sys/ext/disposable/trait.XtermDisposable.html" title="`XtermDisposable`"><code>XtermDisposable</code></a> implementor into an instance of <a href="../../xterm_js_sys/xterm/struct.Disposable.html" title="`Disposable`"><code>Disposable</code></a>
(the corresponding JS interface).</p>
</div><h4 id='method.by_ref' class="method"><code>fn <a href='#method.by_ref' class='fnname'>by_ref</a>(&amp;self) -&gt; <a class="struct" href="../../xterm_js_sys/xterm/struct.Disposable.html" title="struct xterm_js_sys::xterm::Disposable">Disposable</a></code><a class='srclink' href='../../src/xterm_js_sys/ext/mod.rs.html#323-325' title='goto source code'>[src]</a></h4><div class='stability'><div class='stab portability'>This is supported on <strong><code>feature="ext"</code></strong> only.</div></div><div class='docblock'><p>Converts the <a href="../../xterm_js_sys/ext/disposable/trait.XtermDisposable.html" title="`XtermDisposable`"><code>XtermDisposable</code></a> implementor into an instance of <a href="../../xterm_js_sys/xterm/struct.Disposable.html" title="`Disposable`"><code>Disposable</code></a>
(the corresponding JS interface) <em>by reference</em>.</p>
</div></div><h3 id='impl-IntoJsInterface%3CTerminalAddon%3E' class='impl'><code class='in-band'>impl&lt;X&gt; IntoJsInterface&lt;<a class="struct" href="../../xterm_js_sys/xterm/struct.TerminalAddon.html" title="struct xterm_js_sys::xterm::TerminalAddon">TerminalAddon</a>&gt; for X <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;X: <a class="trait" href="../../xterm_js_sys/ext/addon/trait.XtermAddon.html" title="trait xterm_js_sys::ext::addon::XtermAddon">XtermAddon</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;X: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + 'static,&nbsp;</span></code><a href='#impl-IntoJsInterface%3CTerminalAddon%3E' class='anchor'></a><a class='srclink' href='../../src/xterm_js_sys/ext/mod.rs.html#287-327' title='goto source code'>[src]</a></h3><div class='docblock'><p>Anything that implements <a href="../../xterm_js_sys/ext/addon/trait.XtermAddon.html" title="`XtermAddon`"><code>XtermAddon</code></a> (and is <code>Clone + 'static</code>) gets an implementation 
of <a href="../../xterm_js_sys/ext/trait.IntoJsInterface.html"><code>IntoJsInterface&lt;TerminalAddon&gt;</code></a>.</p>
</div><div class='impl-items'><h4 id='method.to-1' class="method"><code>fn <a href='#method.to-1' class='fnname'>to</a>(self) -&gt; <a class="struct" href="../../xterm_js_sys/xterm/struct.TerminalAddon.html" title="struct xterm_js_sys::xterm::TerminalAddon">TerminalAddon</a></code><a class='srclink' href='../../src/xterm_js_sys/ext/mod.rs.html#305-307' title='goto source code'>[src]</a></h4><div class='stability'><div class='stab portability'>This is supported on <strong><code>feature="ext"</code></strong> only.</div></div><div class='docblock'><p>Converts the <a href="../../xterm_js_sys/ext/addon/trait.XtermAddon.html" title="`XtermAddon`"><code>XtermAddon</code></a> implementor into an instance of <a href="../../xterm_js_sys/xterm/struct.TerminalAddon.html" title="`TerminalAddon`"><code>TerminalAddon</code></a>
(the corresponding JS interface).</p>
</div><h4 id='method.by_ref-1' class="method"><code>fn <a href='#method.by_ref-1' class='fnname'>by_ref</a>(&amp;self) -&gt; <a class="struct" href="../../xterm_js_sys/xterm/struct.TerminalAddon.html" title="struct xterm_js_sys::xterm::TerminalAddon">TerminalAddon</a></code><a class='srclink' href='../../src/xterm_js_sys/ext/mod.rs.html#323-325' title='goto source code'>[src]</a></h4><div class='stability'><div class='stab portability'>This is supported on <strong><code>feature="ext"</code></strong> only.</div></div><div class='docblock'><p>Converts the <a href="../../xterm_js_sys/ext/addon/trait.XtermAddon.html" title="`XtermAddon`"><code>XtermAddon</code></a> implementor into an instance of <a href="../../xterm_js_sys/xterm/struct.TerminalAddon.html" title="`TerminalAddon`"><code>TerminalAddon</code></a>
(the corresponding JS interface) <em>by reference</em>.</p>
</div></div><h3 id='impl-IntoJsInterface%3CUnicodeVersionProvider%3E' class='impl'><code class='in-band'>impl&lt;X&gt; IntoJsInterface&lt;<a class="struct" href="../../xterm_js_sys/xterm/struct.UnicodeVersionProvider.html" title="struct xterm_js_sys::xterm::UnicodeVersionProvider">UnicodeVersionProvider</a>&gt; for X <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;X: <a class="trait" href="../../xterm_js_sys/ext/unicode/trait.XtermUnicodeVersionProvider.html" title="trait xterm_js_sys::ext::unicode::XtermUnicodeVersionProvider">XtermUnicodeVersionProvider</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;X: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + 'static,&nbsp;</span></code><a href='#impl-IntoJsInterface%3CUnicodeVersionProvider%3E' class='anchor'></a><a class='srclink' href='../../src/xterm_js_sys/ext/mod.rs.html#287-327' title='goto source code'>[src]</a></h3><div class='docblock'><p>Anything that implements <a href="../../xterm_js_sys/ext/unicode/trait.XtermUnicodeVersionProvider.html" title="`XtermUnicodeVersionProvider`"><code>XtermUnicodeVersionProvider</code></a> (and is <code>Clone + 'static</code>) gets an implementation 
of <a href="../../xterm_js_sys/ext/trait.IntoJsInterface.html"><code>IntoJsInterface&lt;UnicodeVersionProvider&gt;</code></a>.</p>
</div><div class='impl-items'><h4 id='method.to-2' class="method"><code>fn <a href='#method.to-2' class='fnname'>to</a>(self) -&gt; <a class="struct" href="../../xterm_js_sys/xterm/struct.UnicodeVersionProvider.html" title="struct xterm_js_sys::xterm::UnicodeVersionProvider">UnicodeVersionProvider</a></code><a class='srclink' href='../../src/xterm_js_sys/ext/mod.rs.html#305-307' title='goto source code'>[src]</a></h4><div class='stability'><div class='stab portability'>This is supported on <strong><code>feature="ext"</code></strong> only.</div></div><div class='docblock'><p>Converts the <a href="../../xterm_js_sys/ext/unicode/trait.XtermUnicodeVersionProvider.html" title="`XtermUnicodeVersionProvider`"><code>XtermUnicodeVersionProvider</code></a> implementor into an instance of <a href="../../xterm_js_sys/xterm/struct.UnicodeVersionProvider.html" title="`UnicodeVersionProvider`"><code>UnicodeVersionProvider</code></a>
(the corresponding JS interface).</p>
</div><h4 id='method.by_ref-2' class="method"><code>fn <a href='#method.by_ref-2' class='fnname'>by_ref</a>(&amp;self) -&gt; <a class="struct" href="../../xterm_js_sys/xterm/struct.UnicodeVersionProvider.html" title="struct xterm_js_sys::xterm::UnicodeVersionProvider">UnicodeVersionProvider</a></code><a class='srclink' href='../../src/xterm_js_sys/ext/mod.rs.html#323-325' title='goto source code'>[src]</a></h4><div class='stability'><div class='stab portability'>This is supported on <strong><code>feature="ext"</code></strong> only.</div></div><div class='docblock'><p>Converts the <a href="../../xterm_js_sys/ext/unicode/trait.XtermUnicodeVersionProvider.html" title="`XtermUnicodeVersionProvider`"><code>XtermUnicodeVersionProvider</code></a> implementor into an instance of <a href="../../xterm_js_sys/xterm/struct.UnicodeVersionProvider.html" title="`UnicodeVersionProvider`"><code>UnicodeVersionProvider</code></a>
(the corresponding JS interface) <em>by reference</em>.</p>
</div></div></div><span class='loading-content'>Loading content...</span><script type="text/javascript" src="../../implementors/xterm_js_sys/ext/trait.IntoJsInterface.js" async></script></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../";window.currentCrate = "xterm_js_sys";</script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>